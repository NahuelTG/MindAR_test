/* Prevenir que el canvas de MindAR interfiera */
#mindar-container canvas {
  pointer-events: none !important;
}

/* Solo permitir interacción con el canvas de Three.js */
#mindar-container canvas:last-child {
  pointer-events: auto !important;
}

/* Añadir estos estilos a tu archivo CSS principal */

/* Estilos para el modo AR */
body.ar-active {
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: fixed;
  width: 100vw;
  height: 100vh;
}

/* Asegurar que el contenedor AR ocupe toda la pantalla */
.ar-container {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  overflow: hidden !important;
  z-index: 1000;
}

/* Estilos para el video de la cámara */
.ar-container video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  z-index: 1;
}

/* Estilos para el canvas de Three.js */
.ar-container canvas {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  z-index: 2;
}

/* Prevenir zoom en dispositivos móviles */
.ar-container * {
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .ar-container {
    /* Asegurar que en móviles no haya scroll */
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    /* Usar unidades de viewport que son más confiables en móviles */
    min-height: 100vh !important;
    max-height: 100vh !important;
  }
}

/* Para dispositivos con notch */
@supports (padding-top: env(safe-area-inset-top)) {
  .ar-container {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Ocultar la barra de direcciones en móviles */
@media screen and (max-width: 768px) {
  .ar-container {
    /* Utilizar la altura de la ventana real */
    height: 100dvh !important; /* dynamic viewport height */
  }
}

/* Configuración básica para móviles */
@media screen and (max-width: 768px) {
  html,
  body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    position: fixed;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: none;
  }

  /* Prevenir zoom en iOS */
  * {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Configuración específica para la escena AR */
  .ar-scene-capture-target {
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 1000;
  }

  /* Estilos para canvas y video */
  .ar-scene-capture-target canvas,
  .ar-scene-capture-target video {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    object-position: center !important;
    display: block !important;
  }

  /* Prevenir el bounce en iOS */
  .ar-scene-capture-target,
  .ar-scene-capture-target * {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }

  /* Estilos para el preview de fotos */
  .photo-preview-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 10001 !important;
    padding: 10px !important;
    box-sizing: border-box !important;
  }

  .photo-preview-container {
    width: 95% !important;
    max-width: 100% !important;
    max-height: 90% !important;
    margin: 0 auto !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
  }

  .photo-preview-image {
    width: 100% !important;
    height: auto !important;
    max-height: 60vh !important;
    object-fit: contain !important;
    margin: 0 auto !important;
    display: block !important;
  }

  /* Botones más grandes en móviles */
  .mobile-button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    touch-action: manipulation !important;
  }
}

/* Configuración para orientación landscape en móviles */
@media screen and (max-width: 768px) and (orientation: landscape) {
  .ar-scene-capture-target {
    height: 100vh !important;
    width: 100vw !important;
  }

  .photo-preview-image {
    max-height: 70vh !important;
  }
}

/* Configuración específica para iOS */
@supports (-webkit-touch-callout: none) {
  .ar-scene-capture-target {
    height: -webkit-fill-available !important;
  }

  /* Evitar el zoom en inputs */
  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Configuración para Android */
@media screen and (max-width: 768px) {
  .ar-scene-capture-target {
    height: calc(100vh - env(keyboard-inset-height, 0px)) !important;
  }
}

/* Estilos para el loading screen en móviles */
@media screen and (max-width: 768px) {
  .loading-screen {
    padding: 20px !important;
    text-align: center !important;
  }

  .loading-screen h2 {
    font-size: 1.5rem !important;
  }

  .loading-screen p {
    font-size: 0.9rem !important;
  }
}
